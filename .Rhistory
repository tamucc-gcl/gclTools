document()
?load_all()
load_all()
?load_quant_files
?train_quant_standards
load_all()
?train_quant_standards
document()
load_all()
?train_quant_standards
load_all()
?train_quant_standards
document()
load_all()
?train_quant_standards
#' # Import data files
raw_data <- system.file("extdata", "raw_data.csv", package = "tamuccGCL")
plate_map <- system.file("extdata", "plate_map.csv", package = "tamuccGCL")
quant_data <- load_quant_files(raw_data, plate_map)
trained_model <- train_quant_standards (quant_data)
trained_model <- train_quant_standards (quant_data, model = "power")
log(-2)
?switch
document()
load_all()
#' # Import data files
raw_data <- system.file("extdata", "raw_data.csv", package = "tamuccGCL")
plate_map <- system.file("extdata", "plate_map.csv", package = "tamuccGCL")
quant_data <- load_quant_files(raw_data, plate_map)
trained_model <- train_quant_standards (quant_data, model = "power")
quant_data
view(quant_data$standard)
edit(quant_data$standard)
quant_data
fix(quant_data$standard)
quant_data$standard <- edit(quant_data$standard)
quant_data
trained_model <- train_quant_standards (quant_data, model = "power")
trained_model
trained_model <- train_quant_standards (quant_data, model = "linear")
quant_data$standard <- edit(quant_data$standard)
quant_data
trained_model <- train_quant_standards (quant_data, model = "linear")
trained_model <- train_quant_standards (quant_data, model = "power")
t <- quant_data$standard
t
sum(t$rfu <0)
document()
load_all()
trained_model <- train_quant_standards (quant_data, model = "power")
quant_data <- load_quant_files(raw_data, plate_map)
trained_model <- train_quant_standards (quant_data, model = "power")
quant_data$standard <- edit(quant_data$standard)
trained_model <- train_quant_standards (quant_data, model = "power")
quant_data <- load_quant_files(raw_data, plate_map)
quant_data$standard <- edit(quant_data$standard)
quant_data$standard <- edit(quant_data$standard)
t <- quant_data$standard
trained_model <- train_quant_standards (quant_data, model = "linear")
trained_model <- train_quant_standards (quant_data, model = "kit_reference")
trained_model <- train_quant_standards (quant_data, model = "power")
quant_report <- quant_dna(trained_model)
document()
load_all()
quant_report <- quant_dna(quant_data = quant_data,
trained_model = trained_model)
quant_report
document()
load_all()
quant_report <- quant_dna(quant_data = quant_data,
trained_model = trained_model)
quant_report
export_quant_report(quant_report)
export_quant_report(quant_report)
document()
load_all()
export_quant_report(quant_report)
# Try piping
load_quant_files(raw_data, plate_map) %>%
train_quant_standards() %>%
quant_report()
# Try piping
load_quant_files(raw_data, plate_map) %>%
train_quant_standards() %>%
quant_dna()
# Try piping
load_quant_files(raw_data, plate_map) %>%
train_quant_standards()
check()
check()
?switch
?train_quant_standards
document()
load()
load_all()
check()
document()
load_all()
check()
document()
load_all()
check()
document()
load_all()
check()
document()
document()
load_all()
load_all()
?export_quant_report
document()
load_all()
?export_quant_report
quant_dna(
?quant_dna
document()
load_all()
?export_quant_report
?quant_dna
document()
load_all()
?export_quant_report
check()
document()
load_all()
check()
document()
load_all()
check()
load_all()
require (devtools)
load_all()
plate_map <- "inst/extdata/plate_map.csv"
raw_data <- "inst/extdata/raw_data.csv"
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
t2
t3
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
check()
document()
load_all()
check()
document()
load_all()
use_r("trial")
document()
load_all(
)
check()
document()
load_all()
check()
importFrom("dplyr", "mutate", "select", "rename", "filter", "left_join", "group_by", "summarize", "ungroup", "pull")
require(devtools)
document()
load_all()
install()
?tamuccGCL
?load_quant_files
?export_quant_report
use_testthat()
test_check("tamuccGCL")
use_readme_rmd()
?export_quant_report
build_readme()
require(devtools)
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
plate_map <- "inst/extdata/plate_map.csv"
raw_data <- "inst/extdata/raw_data.csv"
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
setwd("E:/OneDrive - Texas A&M University-Corpus Christi/Work/Research/TAMUCC-GCL/Labwork/data/quants")
ls
devtools::install_github("kllabrador/tamuccGCL")
remove.packages("tamuccGCL")
setwd("E:/OneDrive - Texas A&M University-Corpus Christi/Work/github-repos/r_packages/tamuccGCL")
document()
quant_dna
?inserImage
?insertImage
document()
load_all()
plate_map <- "inst/extdata/plate_map.csv"
raw_data <- "inst/extdata/raw_data.csv"
# Import data files
raw_data <- system.file("extdata", "raw_data.csv", package = "tamuccGCL")
plate_map <- system.file("extdata", "plate_map.csv", package = "tamuccGCL")
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
t3
(t4 <- export_quant_report(t3))
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
(t4 <- export_quant_report(t3))
t3$standard
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
(t4 <- export_quant_report(t3))
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
(t4 <- export_quant_report(t3))
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
(t4 <- export_quant_report(t3))
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
t3
t3$standard
document()
load_all()
(t1 <- load_quant_files(plate_map = plate_map,
raw_data = raw_data))
(t2 <- train_quant_standards(quant_data = t1,
model = "power",
remove_standard = F))
(t3 <- quant_dna (quant_data = t1,
trained_model = t2))
(t4 <- export_quant_report(t3))
document()
load_all()
document()
require(devtools)
?use_cran_badge
include_graphics("man/figures/workflow.jpg")
In a nutshell, the quant workflow takes the file path to the quant data files (in csv format) as input, trains the regression model based on the relative fluorescence unit (RFU) of the standards, and then uses the regression model to predict the DNA concentration of the samples. The output file which contains the quant report following the Genomics Core Lab's format is then generated.
document()
load_all()
?train_quant_standards
model <- train_quant_standards (quant_data)
require (tamuccGCL)
# Import data files
raw_data <- system.file("extdata", "raw_data.csv", package = "tamuccGCL")
plate_map <- system.file("extdata", "plate_map.csv", package = "tamuccGCL")
quant_data <- load_quant_files(raw_data, plate_map)
print (quant_data)
model <- train_quant_standards (quant_data)
print (model)
model$standard
train_quant_standards
model$standard
# Remove one standard
model_with_standards_removed <-  train_quant_standards (quant_data,
model = "power",
remove_standard = 10)
# Remove three standards
model_with_standards_removed <- train_quant_standards(quant_data,
remove_standard = c(2, 8)
)
# Remove one standard
model_with_standards_removed <-  train_quant_standards (quant_data,
model = "power",
remove_standard = 2)
# Remove three standards
model_with_standards_removed <- train_quant_standards(quant_data,
remove_standard = c(2, 8)
)
# Remove one standard
model_with_standards_removed <-  train_quant_standards (quant_data,
model = "power",
remove_standard = 2)
# Remove three standards
model_with_standards_removed <- train_quant_standards(quant_data,
remove_standard = c(2, 6, 8)
)
?quant_dna
quant_report <- quant_dna(quant_data = quant_data, trained_model = trained_model)
trained_model <- train_quant_standards (quant_data)
print (trained_model)
quant_report <- quant_dna(quant_data = quant_data, trained_model = trained_model)
print(quant_report)
?quant_dna
quant_dna
?export_quant_report
export_quant_report
export_quant_report(quant_report)
library(knitr)
library(kableExtra)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%",
fig.width = 6,
fig.height = 4
)
options(knitr.table.format = "html")
quant_data <- load_quant_files(raw_data, plate_map)
lapply (quant_data, kable)
library(knitr)
library(kableExtra)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%",
fig.width = 6,
fig.height = 4
)
options(knitr.table.format = "html")
quant_data <- load_quant_files(raw_data, plate_map)
lapply(quant_data, kbl)
library(knitr)
library(flextable)
library(knitr)
library(flextable)
quant_data <- load_quant_files(raw_data, plate_map)
lapply(quant_data, flextable)
document()
load_all()
require(knitr)
require(flextable)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%",
fig.width = 5,
fig.height = 3.5
)
# Set global options to render data frames with flextable
knitr::opts_chunk$set(render = function(x, ...) {
if (is.data.frame(x)) {
flextable::qflextable(x)
} else {
x
}
})
quant_data <- load_quant_files(raw_data, plate_map)
print(quant_data)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%",
fig.width = 5,
fig.height = 3.5
)
quant_data <- load_quant_files(raw_data, plate_map)
lapply(quant_data, head())
quant_data <- load_quant_files(raw_data, plate_map)
lapply(quant_data, head(6))
quant_data <- load_quant_files(raw_data, plate_map)
lapply(quant_data, head(.,6))
head(quant_data)
quant_data <- load_quant_files(raw_data, plate_map)
head(quant_data)
require(devtools)
document()
build()
load()
load("gclTools")
require (usethis)
load()
check()
test_check("gclTools")
library(testthat)
library(gclTools)
test_check("gclTools")
check()
load_all()
raw_data <- system.file("extdata", "raw_data.csv", package = "tamuccGCL")
plate_map <- system.file("extdata", "plate_map.csv", package = "tamuccGCL")
raw_data
plate_map
?gclTools
?tidyverse
?load_quant_files
document()
?usethis::use_data
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%",
fig.width = 5,
fig.height = 3.5
)
Sys.Date()
document()
load_all()
?gclTools
document()
load()
load_all()
?gclTools
document()
load_all()
?gclTools
document()
load_all()
?gclTools
document()
load_all()
?gclTools
document()
load_all()
?gclTools
Sys.Date()
ls
use_r("parse_quant_txtfile.R")
require(tidyverse)
list.files()
filepath <- "inst/extdata/Tepolt_mesopelagic_fish_plate1_accublue_2025-01-10.txt"
t <- readLines(filepath)
t
t <- scan(filepath)
t <- readLines(filepath)
?readLines
t <- readLines(filepath)
warnings()
# Function to read and clean file by removing null characters
clean_read_lines <- function(file_path) {
# Read raw bytes from the file
raw_data <- readBin(file_path, "raw", file.info(file_path)$size)
# Remove null bytes (value 0)
cleaned_data <- raw_data[raw_data != 0]
# Convert the cleaned raw data to text (character)
text_data <- rawToChar(cleaned_data)
# Split into lines
text_lines <- unlist(strsplit(text_data, "\n"))
return(text_lines)
}
t <- clean_read_lines(filepath)
filepath <- "inst/extdata/raw_data.txt"
t <- readLines(filepath)
t
# Function to find the section starting with the header
extract_section <- function(file_path, header) {
# Open the file and read it line by line
con <- file(file_path, open = "r")
lines <- readLines(con)
close(con)
# Find the line number where the header is located
header_line <- grep(header, lines)
# If header is found, extract lines after it
if (length(header_line) > 0) {
# Extract the header and lines below it
start_line <- header_line[1]  # Take the first match of the header
section_lines <- lines[start_line:length(lines)]
# Remove any non-data lines that might follow the header (e.g., blank lines or metadata)
section_lines <- section_lines[section_lines != ""]
return(section_lines)
} else {
return(NULL)  # If header is not found
}
}
# Example usage
file_path <- "path/to/your/file.txt"
header <- "Sample\tWells\tValue\tR\tResult\tMeanResult\tSD\tCV"
section_data <- extract_section(file_path, header)
filepath <- "inst/extdata/Tepolt_mesopelagic_fish_plate1_accublue_2025-01-10.txt"
# Example usage
file_path <- filepath
header <- "Sample\tWells\tValue\tR\tResult\tMeanResult\tSD\tCV"
section_data <- extract_section(file_path, header)
section_data
section_data <- extract_section(file_path, header)
warnings()
document()
require(usethis)
require(devtools)
document()
load_all()
